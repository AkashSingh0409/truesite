<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrueSite - Website Information Portal</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --accent-color: #4fc3f7;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f7f9;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            text-align: center;
            padding: 1.5rem 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .container {
            max-width: 1100px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .search-container {
            background-color: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 2rem;
        }
        
        .search-input {
            display: flex;
            gap: 10px;
        }
        
        input[type="text"] {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus {
            border-color: var(--accent-color);
            outline: none;
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--secondary-color);
        }
        
        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 2rem;
        }
        
        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.25rem;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .card-content {
            font-size: 0.95rem;
        }
        
        .loader {
            display: none;
            text-align: center;
            margin: 2rem 0;
        }
        
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
        
        .status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .status-online {
            background-color: var(--success-color);
        }
        
        .status-offline {
            background-color: var(--danger-color);
        }
        
        .status-unknown {
            background-color: var(--warning-color);
        }
        
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 5px;
            margin-bottom: 5px;
            color: white;
        }
        
        .badge-safe {
            background-color: var(--success-color);
        }
        
        .badge-warning {
            background-color: var(--warning-color);
            color: #212529;
        }
        
        .badge-danger {
            background-color: var(--danger-color);
        }
        
        .badge-info {
            background-color: var(--accent-color);
        }
        
        .result-container {
            display: none;
            margin-top: 1rem;
        }
        
        .site-overview {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .site-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 1.5rem;
        }
        
        .site-icon {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary-color);
            overflow: hidden;
        }
        
        .site-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .site-title h2 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .history-container {
            margin-top: 2rem;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .history-item:hover {
            background-color: #f9f9f9;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .error-message {
            color: var(--danger-color);
            text-align: center;
            margin: 1rem 0;
            display: none;
        }
        
        footer {
            text-align: center;
            padding: 2rem 0;
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .site-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .search-input {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>TrueSite</h1>
        <p>Get detailed information about any website</p>
    </header>
    
    <div class="container">
        <div class="search-container">
            <div class="search-input">
                <input type="text" id="site-input" placeholder="Enter website URL (e.g., google.com)" />
                <button id="search-button">Search</button>
            </div>
        </div>
        
        <div class="loader" id="loader">
            <div class="spinner"></div>
            <p>Fetching website information...</p>
        </div>
        
        <div class="error-message" id="error-message">
            Unable to fetch information for this website. Please check the URL and try again.
        </div>
        
        <div class="result-container" id="result-container">
            <div class="site-overview">
                <div class="site-header">
                    <div class="site-icon" id="site-icon">
                        <span>?</span>
                    </div>
                    <div class="site-title">
                        <h2 id="site-name">Website Name</h2>
                        <div id="site-url">website.com</div>
                        <div class="status">
                            <div class="status-dot status-unknown" id="status-dot"></div>
                            <span id="status-text">Status Unknown</span>
                        </div>
                    </div>
                </div>
                
                <div id="site-description">
                    Loading website description...
                </div>
            </div>
            
            <div class="info-cards">
                <div class="card">
                    <h3>Safety Rating</h3>
                    <div class="card-content" id="safety-content">
                        <div id="safety-badges">
                            <!-- Safety badges will be added here -->
                        </div>
                        <p id="safety-description">Loading safety information...</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Technical Details</h3>
                    <div class="card-content" id="tech-content">
                        <p>Server: <span id="server-info">Loading...</span></p>
                        <p>Technologies: <span id="tech-stack">Loading...</span></p>
                        <p>IP: <span id="ip-address">Loading...</span></p>
                        <p>SSL: <span id="ssl-info">Loading...</span></p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Location</h3>
                    <div class="card-content" id="location-content">
                        <p>Country: <span id="country">Loading...</span></p>
                        <p>Hosting Provider: <span id="hosting">Loading...</span></p>
                        <p>ASN: <span id="asn">Loading...</span></p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Performance</h3>
                    <div class="card-content" id="performance-content">
                        <p>Loading Time: <span id="loading-time">Loading...</span></p>
                        <p>Response Code: <span id="response-code">Loading...</span></p>
                        <p>Last Updated: <span id="last-updated">Loading...</span></p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="history-container">
            <h2>Recent Searches</h2>
            <div id="search-history">
                <!-- History items will be added here -->
            </div>
        </div>
    </div>
    
    <footer>
        <p>&copy; 2025 TrueSite. All rights reserved.</p>
        <p>Disclaimer: This information is provided for educational purposes only.</p>
    </footer>
    
    <script>
        // DOM elements
        const siteInput = document.getElementById('site-input');
        const searchButton = document.getElementById('search-button');
        const loader = document.getElementById('loader');
        const resultContainer = document.getElementById('result-container');
        const errorMessage = document.getElementById('error-message');
        const searchHistory = document.getElementById('search-history');
        
        // Site information elements
        const siteName = document.getElementById('site-name');
        const siteUrl = document.getElementById('site-url');
        const siteIcon = document.getElementById('site-icon');
        const siteDescription = document.getElementById('site-description');
        const statusDot = document.getElementById('status-dot');
        const statusText = document.getElementById('status-text');
        const safetyBadges = document.getElementById('safety-badges');
        const safetyDescription = document.getElementById('safety-description');
        const serverInfo = document.getElementById('server-info');
        const techStack = document.getElementById('tech-stack');
        const ipAddress = document.getElementById('ip-address');
        const sslInfo = document.getElementById('ssl-info');
        const country = document.getElementById('country');
        const hosting = document.getElementById('hosting');
        const asn = document.getElementById('asn');
        const loadingTime = document.getElementById('loading-time');
        const responseCode = document.getElementById('response-code');
        const lastUpdated = document.getElementById('last-updated');
        
        // Initialize history from localStorage
        let searchHistoryData = JSON.parse(localStorage.getItem('trueSiteHistory')) || [];
        
        // Initialize the app
        function init() {
            renderSearchHistory();
            
            // Event listeners
            searchButton.addEventListener('click', performSearch);
            siteInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
        }
        
        // Perform search on a website
        function performSearch() {
            const url = formatUrl(siteInput.value.trim());
            
            if (!url) {
                showError('Please enter a valid website URL');
                return;
            }
            
            // Show loader, hide results and error
            loader.style.display = 'block';
            resultContainer.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // Add to search history (if not already present)
            addToHistory(url);
            
            // Fetch website information using APIs
            fetchWebsiteInfo(url)
                .then(data => {
                    displayResults(data);
                    loader.style.display = 'none';
                    resultContainer.style.display = 'block';
                })
                .catch(error => {
                    console.error('Error fetching website info:', error);
                    showError('Unable to fetch information for this website');
                    loader.style.display = 'none';
                });
        }
        
        // Format URL properly
        function formatUrl(input) {
            if (!input) return '';
            
            // Add https:// if not present
            if (!input.startsWith('http://') && !input.startsWith('https://')) {
                input = 'https://' + input;
            }
            
            try {
                const urlObj = new URL(input);
                return urlObj.toString();
            } catch (e) {
                return '';
            }
        }
        
        // Extract domain from URL
        function extractDomain(url) {
            try {
                const urlObj = new URL(url);
                return urlObj.hostname;
            } catch (e) {
                return url;
            }
        }
        
        // Show error message
        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.style.display = 'block';
            loader.style.display = 'none';
            resultContainer.style.display = 'none';
        }
        
        // Add URL to search history
        function addToHistory(url) {
            const domain = extractDomain(url);
            
            // Check if already in history
            const existingIndex = searchHistoryData.findIndex(item => item.domain === domain);
            
            if (existingIndex !== -1) {
                // Move to top if already exists
                const existing = searchHistoryData.splice(existingIndex, 1)[0];
                existing.timestamp = Date.now();
                searchHistoryData.unshift(existing);
            } else {
                // Add new entry
                searchHistoryData.unshift({
                    url: url,
                    domain: domain,
                    timestamp: Date.now()
                });
                
                // Limit history to 10 items
                if (searchHistoryData.length > 10) {
                    searchHistoryData.pop();
                }
            }
            
            // Save to localStorage
            localStorage.setItem('trueSiteHistory', JSON.stringify(searchHistoryData));
            
            // Update UI
            renderSearchHistory();
        }
        
        // Render search history
        function renderSearchHistory() {
            searchHistory.innerHTML = '';
            
            if (searchHistoryData.length === 0) {
                searchHistory.innerHTML = '<p>No recent searches</p>';
                return;
            }
            
            searchHistoryData.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                const date = new Date(item.timestamp);
                const formattedDate = date.toLocaleDateString() + ' ' + date.toLocaleTimeString();
                
                historyItem.innerHTML = `
                    <div>${item.domain}</div>
                    <div>${formattedDate}</div>
                `;
                
                historyItem.addEventListener('click', () => {
                    siteInput.value = item.domain;
                    performSearch();
                });
                
                searchHistory.appendChild(historyItem);
            });
        }
        
        // Main function to fetch website information
        async function fetchWebsiteInfo(url) {
            // In a real app, you would use multiple APIs to gather comprehensive information
            // For this demo, we'll simulate API responses with mock data
            
            // Simulate API call delay
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            const domain = extractDomain(url);
            
            // Generate semi-random but consistent data based on the domain
            const hashCode = simpleHashCode(domain);
            
            return {
                url: url,
                domain: domain,
                name: domain.split('.')[0].charAt(0).toUpperCase() + domain.split('.')[0].slice(1),
                description: generateDescription(domain, hashCode),
                status: generateStatus(hashCode),
                safety: generateSafety(domain, hashCode),
                technical: {
                    server: generateServer(hashCode),
                    technologies: generateTechnologies(hashCode),
                    ip: generateIP(hashCode),
                    ssl: generateSSL(hashCode)
                },
                location: {
                    country: generateCountry(hashCode),
                    hosting: generateHosting(hashCode),
                    asn: `AS${Math.abs(hashCode) % 100000}`
                },
                performance: {
                    loadTime: `${(Math.abs(hashCode) % 1000) / 100}s`,
                    responseCode: generateResponseCode(hashCode),
                    lastUpdated: generateLastUpdated(hashCode)
                }
            };
        }
        
        // Display the results in the UI
        function displayResults(data) {
            // Basic info
            siteName.textContent = data.name;
            siteUrl.textContent = data.domain;
            siteDescription.textContent = data.description;
            
            // Set favicon
            siteIcon.innerHTML = `<span>${data.name.charAt(0)}</span>`;
            
            // Status
            statusDot.className = `status-dot status-${data.status.type}`;
            statusText.textContent = data.status.text;
            
            // Safety
            safetyBadges.innerHTML = '';
            data.safety.badges.forEach(badge => {
                const badgeElement = document.createElement('span');
                badgeElement.className = `badge badge-${badge.type}`;
                badgeElement.textContent = badge.text;
                safetyBadges.appendChild(badgeElement);
            });
            safetyDescription.textContent = data.safety.description;
            
            // Technical
            serverInfo.textContent = data.technical.server;
            techStack.textContent = data.technical.technologies.join(', ');
            ipAddress.textContent = data.technical.ip;
            sslInfo.textContent = data.technical.ssl.valid ? 
                `Valid (Expires: ${data.technical.ssl.expires})` : 
                'Invalid or Expired';
            
            // Location
            country.textContent = data.location.country;
            hosting.textContent = data.location.hosting;
            asn.textContent = data.location.asn;
            
            // Performance
            loadingTime.textContent = data.performance.loadTime;
            responseCode.textContent = `${data.performance.responseCode.code} (${data.performance.responseCode.text})`;
            lastUpdated.textContent = data.performance.lastUpdated;
        }
        
        // Helper function to generate a simple hash code for a string
        function simpleHashCode(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Convert to 32bit integer
            }
            return hash;
        }
        
        // Helper functions to generate mock data based on domain and hash
        function generateDescription(domain, hash) {
            const descriptions = [
                `${domain} is a website focusing on technology and digital services.`,
                `${domain} appears to be an e-commerce platform selling various products.`,
                `${domain} is a news and media website covering current events.`,
                `${domain} offers educational resources and online courses.`,
                `${domain} provides business services and corporate solutions.`,
                `${domain} is a social networking platform connecting users worldwide.`,
                `${domain} offers entertainment content including videos and games.`,
                `${domain} is a blog sharing articles on various topics.`
            ];
            
            return descriptions[Math.abs(hash) % descriptions.length];
        }
        
        function generateStatus(hash) {
            const statuses = [
                { type: 'online', text: 'Online' },
                { type: 'offline', text: 'Offline' },
                { type: 'unknown', text: 'Status Unknown' }
            ];
            
            // Make online more common
            const index = Math.abs(hash) % 10 < 8 ? 0 : Math.abs(hash) % statuses.length;
            return statuses[index];
        }
        
        function generateSafety(domain, hash) {
            const popular = ['google', 'microsoft', 'amazon', 'apple', 'facebook', 'twitter'];
            const isDomainPopular = popular.some(item => domain.includes(item));
            
            // For demo purposes, make popular domains more likely to be safe
            const safetyLevel = isDomainPopular ? 
                (Math.abs(hash) % 10 < 9 ? 'safe' : 'warning') : 
                ['safe', 'warning', 'danger'][Math.abs(hash) % 3];
            
            let badges = [];
            let description = '';
            
            switch (safetyLevel) {
                case 'safe':
                    badges = [
                        { type: 'safe', text: 'Safe' },
                        { type: 'info', text: 'Verified' }
                    ];
                    description = `${domain} appears to be a legitimate and safe website with no known security issues.`;
                    break;
                case 'warning':
                    badges = [
                        { type: 'warning', text: 'Caution' }
                    ];
                    description = `Exercise caution when using ${domain}. Some potential security concerns have been identified.`;
                    break;
                case 'danger':
                    badges = [
                        { type: 'danger', text: 'Potentially Unsafe' }
                    ];
                    description = `Warning: ${domain} may pose security risks. Proceed with caution and avoid sharing sensitive information.`;
                    break;
            }
            
            // Add additional badges
            if (Math.abs(hash) % 5 === 0) {
                badges.push({ type: 'info', text: 'Ad-Heavy' });
            }
            
            if (Math.abs(hash) % 7 === 0) {
                badges.push({ type: 'info', text: 'Tracking' });
            }
            
            return {
                level: safetyLevel,
                badges: badges,
                description: description
            };
        }
        
        function generateServer(hash) {
            const servers = ['Apache', 'Nginx', 'Microsoft-IIS', 'LiteSpeed', 'Cloudflare', 'Google Cloud', 'AWS', 'Unknown'];
            return servers[Math.abs(hash) % servers.length];
        }
        
        function generateTechnologies(hash) {
            const techs = ['PHP', 'Node.js', 'React', 'WordPress', 'jQuery', 'Bootstrap', 'Angular', 'Python', 'Ruby', 'Java', 'ASP.NET'];
            
            const count = 1 + (Math.abs(hash) % 4);
            const result = [];
            
            for (let i = 0; i < count; i++) {
                const index = (Math.abs(hash) + i) % techs.length;
                if (!result.includes(techs[index])) {
                    result.push(techs[index]);
                }
            }
            
            return result;
        }
        
        function generateIP(hash) {
            const octets = [];
            let tempHash = Math.abs(hash);
            
            for (let i = 0; i < 4; i++) {
                octets.push(tempHash % 256);
                tempHash = Math.floor(tempHash / 256);
            }
            
            return octets.join('.');
        }
        
        function generateSSL(hash) {
            const isValid = Math.abs(hash) % 10 < 8;
            
            const date = new Date();
            date.setDate(date.getDate() + (Math.abs(hash) % 365));
            
            return {
                valid: isValid,
                expires: date.toLocaleDateString()
            };
        }
        
        function generateCountry(hash) {
            const countries = ['United States', 'Germany', 'United Kingdom', 'France', 'Netherlands', 'Japan', 'Canada', 'Australia', 'Brazil', 'India', 'Russia', 'Singapore'];
            return countries[Math.abs(hash) % countries.length];
        }
        
        function generateHosting(hash) {
            const hosts = ['Amazon Web Services', 'Google Cloud Platform', 'Microsoft Azure', 'DigitalOcean', 'Linode', 'OVH', 'Cloudflare', 'GoDaddy', 'HostGator', 'Bluehost', 'SiteGround'];
            return hosts[Math.abs(hash) % hosts.length];
        }
        
        function generateResponseCode(hash) {
            const codes = [
                { code: 200, text: 'OK' },
                { code: 301, text: 'Moved Permanently' },
                { code: 302, text: 'Found' },
                { code: 404, text: 'Not Found' },
                { code: 500, text: 'Internal Server Error' }
            ];
            
            // Make 200 more common
            const index = Math.abs(hash) % 10 < 7 ? 0 : Math.abs(hash) % codes.length;
            return codes[index];
        }
        
        function generateLastUpdated(hash) {
            const date = new Date();
            date.setDate(date.getDate() - (Math.abs(hash) % 30));
            return date.toLocaleDateString();
        }
        
        // Initialize the application
        init();
    </script>
</body>
</html>